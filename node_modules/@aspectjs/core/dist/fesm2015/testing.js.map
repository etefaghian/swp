{"version":3,"file":"testing.js","sources":["../../testing/src/testing-weaver-context.impl.ts","../../testing/src/helpers.ts"],"sourcesContent":["import { JitWeaver, WeaverContextImpl } from '@aspectjs/core';\nimport { Weaver } from '@aspectjs/core/commons';\n\nexport class TestingWeaverContext extends WeaverContextImpl {\n    protected _createWeaver(): Weaver {\n        return new JitWeaver(this, false);\n    }\n}\n","import { _setWeaverContext, AnnotationFactory, AnnotationRef, AspectType, WeaverContext } from '@aspectjs/core/commons';\nimport { TestingWeaverContext } from './testing-weaver-context.impl';\n\n// TODO remove when https://github.com/microsoft/rushstack/issues/1050 is resolved\nAnnotationRef;\n\n/**\n * Dummy object interface used for test purpose\n * @public\n */\nexport interface Labeled {\n    labels?: string[];\n    addLabel?: (...args: any[]) => any;\n}\n\n/**\n * Setup a brand new WEAVER_CONTEXT for test purposes\n * @public\n */\nexport function setupTestingWeaverContext(...aspects: AspectType[]): WeaverContext {\n    const context = new TestingWeaverContext();\n    _setWeaverContext(context);\n    const weaver = context.getWeaver();\n    weaver.enable(...aspects);\n    return context;\n}\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const AClass = new AnnotationFactory('tests').create(function AClass(): ClassDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const BClass = new AnnotationFactory('tests').create(function BClass(): ClassDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const CClass = new AnnotationFactory('tests').create(function CClass(): ClassDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const DClass = new AnnotationFactory('tests').create(function DClass(): ClassDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const XClass = new AnnotationFactory('tests').create(function XClass(): ClassDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const AProperty = new AnnotationFactory('tests').create(function AProperty(): PropertyDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const BProperty = new AnnotationFactory('tests').create(function BProperty(): PropertyDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const CProperty = new AnnotationFactory('tests').create(function CProperty(): PropertyDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const DProperty = new AnnotationFactory('tests').create(function DProperty(): PropertyDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const XProperty = new AnnotationFactory('tests').create(function XProperty(): PropertyDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const AMethod = new AnnotationFactory('tests').create(function AMethod(): MethodDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const BMethod = new AnnotationFactory('tests').create(function BMethod(): MethodDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const CMethod = new AnnotationFactory('tests').create(function CMethod(): MethodDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const DMethod = new AnnotationFactory('tests').create(function DMethod(): MethodDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const XMethod = new AnnotationFactory('tests').create(function XMethod(): MethodDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const AParameter = new AnnotationFactory('tests').create(function AParameter(\n    ...args: any[]\n): ParameterDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const BParameter = new AnnotationFactory('tests').create(function BParameter(\n    ...args: any[]\n): ParameterDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const CParameter = new AnnotationFactory('tests').create(function CParameter(\n    ...args: any[]\n): ParameterDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const DParameter = new AnnotationFactory('tests').create(function DParameter(\n    ...args: any[]\n): ParameterDecorator {\n    return;\n});\n\n/**\n * Dummy annotation useful for tests\n * @public\n */\nexport const XParameter = new AnnotationFactory('tests').create(function XParameter(\n    ...args: any[]\n): ParameterDecorator {\n    return;\n});\n"],"names":[],"mappings":"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"}