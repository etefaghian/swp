!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory(((global="undefined"!=typeof globalThis?globalThis:global||self).aspectjs=global.aspectjs||{},global.aspectjs.core_utils={}))}(this,(function(exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var __debug=!1;function isAspect(aspect){return!!__getAspectOptions(aspect)}function assertIsAspect(aspect){if(!isAspect(aspect)){var proto=getProto(aspect);throw new TypeError("".concat(proto.constructor.name," is not an Aspect"))}}function __getAspectOptions(aspect){if(aspect){var proto=getProto(aspect);return proto?Reflect.getOwnMetadata("aspectjs.aspect.options",proto):void 0}}function assert(condition,msg){if(__debug&&!condition){var e=isFunction(msg)?msg():new Error(null!=msg?msg:"assertion error"),stack=e.stack.split("\n");throw stack.splice(1,1),e.stack=stack.join("\n"),e}}function getProto(target){return isFunction(target)?target.prototype:null==target||target.hasOwnProperty("constructor")?target:Object.getPrototypeOf(target)}function isArray(value){return!isUndefined(value)&&null!==value&&Object.getPrototypeOf(value)===Array.prototype}function isUndefined(value){return void 0===value}function isFunction(value){return"function"==typeof value}var Locator=function(){function Locator(_obj,_parent,_parentKey){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Locator),this._obj=_obj,this._parent=_parent,this._parentKey=_parentKey}var Constructor,protoProps,staticProps;return Constructor=Locator,(protoProps=[{key:"at",value:function(propertyName){return new Locator(this._obj?this._obj[propertyName]:void 0,this,propertyName)}},{key:"get",value:function(){return this._obj}},{key:"orElseCompute",value:function(valueProvider){return this.orElse(valueProvider,!0)}},{key:"orElseGet",value:function(valueProvider){return this.orElse(valueProvider,!1)}},{key:"orElse",value:function(valueProvider){var _a,save=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],value=null!==(_a=this._obj)&&void 0!==_a?_a:valueProvider();return save&&(this._obj=value,this._parent._patch(value,this._parentKey)),value}},{key:"_patch",value:function(value,key){this._obj||(this._obj={},this._parent&&this._parent._patch(this._obj,this._parentKey)),this._obj[key]=value}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Locator}();exports.Locator=Locator,exports.__setDebug=function(debug){__debug=debug},exports._getReferenceConstructor=function(proto){var _a;return null!==(_a=Reflect.getOwnMetadata("aspectjs.referenceConstructor",proto))&&void 0!==_a?_a:proto.constructor},exports._setReferenceConstructor=function(proto,originalCtor){assert(isFunction(originalCtor)),Reflect.defineMetadata("aspectjs.referenceConstructor",originalCtor,proto)},exports.assert=assert,exports.assertIsAspect=assertIsAspect,exports.getAspectOptions=function(aspect){return assertIsAspect(aspect),__getAspectOptions(aspect)},exports.getOrComputeMetadata=function(key,target,propertyKey,valueGenerator){var save=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],_propertyKey=propertyKey,_valueGenerator=valueGenerator;"boolean"==typeof valueGenerator&&(save=valueGenerator),"function"==typeof propertyKey&&(_valueGenerator=propertyKey,_propertyKey=void 0),assert(!!target);var value=Reflect.getOwnMetadata(key,target,_propertyKey);return isUndefined(value)&&(value=_valueGenerator(),save&&Reflect.defineMetadata(key,value,target,_propertyKey)),value},exports.getProto=getProto,exports.isArray=isArray,exports.isAspect=isAspect,exports.isEmpty=function(value){return 0===value.length},exports.isFunction=isFunction,exports.isNumber=function(value){return"number"==typeof value},exports.isObject=function(value){return"object"===_typeof(value)&&!isArray(value)},exports.isPromise=function(obj){return isFunction(null==obj?void 0:obj.then)},exports.isString=function(value){return"string"==typeof value},exports.isUndefined=isUndefined,exports.locator=function(obj){return new Locator(obj)},exports.setAspectOptions=function(target,options){Reflect.defineMetadata("aspectjs.aspect.options",options,getProto(target))}}));
//# sourceMappingURL=utils.umd.min.js.map
